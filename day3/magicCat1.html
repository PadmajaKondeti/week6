<html>

<head>
    <title>The Magical Cat Button1</title>
</head>

<body>  
    <div id="buttons">
        <button data-person="arnold schwarzenegger">I'll be back</button>
        <button data-person="michael j fox">My happiness grows in direct proportion to my acceptance, and in inverse proportion to my expectations.</button>
        
        <!-- STEP ONE: Open this file in the browser and click on the buttons. Watch what happened -->

        <!-- STEP TWO: between the dashed lines below
            * add three more buttons 
            * add a data-person attribute of famous people you know 
            * with a quote said by them -->

        <!-- **************************************** -->

        <!-- YOUR BUTTONS GO HERE!!!!!! Obviously delete this text after you put them between the dashed lines here.  -->

		<button data-person="muhammad ali">Muhammad Ali</button>
        <button data-person="marilyn Monroe">Marilyn Monroe</button>
        <button data-person="Abraham Lincoln">Abraham Lincoln</b3tton>
        


        <!-- **************************************** -->


        <!-- STEP THREE: open this file in the browser and click on your buttons. If they don't work, then fix your buttons -->

        <!-- STEP FOUR: go over the JavaScript with your partners, and explain the lines of code to each other. -->

    </div>

    <div id="gifsAppearHere">
    </div>

<script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
<script type="text/javascript">
   $('button').on('click', function() {
   		//to empty the content
   		$( "#gifsAppearHere" ).empty();

        var p = $(this).data('person');
        //adding person to the query url
        var queryURL = "http://api.giphy.com/v1/gifs/search?q=" + p + "&api_key=dc6zaTOxFJmzC&limit=10";
       	
       	
        $.ajax({
                url: queryURL,
                method: 'GET'
            })
            .done(function(response) {
                var results = response.data;
                //getting the response for the person
                for (var i = 0; i < results.length; i++) {
                	if (results[i].rating == "r" || results[i].rating == "pg-13")
                	{

                	}
	                	else {
	                	//creating a div
	                    var gifDiv = $('<div class="item">')
	                    //getting rating
	                    var rating = results[i].rating;
	                    //creating a para
	                    var p = $('<p>').text("Rating: " + rating);
	                    //creating person image
	                    var personImage = $('<img>');
	                    personImage.attr('src', results[i].images.fixed_height.url);
	                    //appending p and personImage
	                    gifDiv.append(p)
	                    gifDiv.append(personImage)
	                    //prepending gifDiv
	                    $('#gifsAppearHere').prepend(gifDiv);
	                }
                }

            });
    });
</script>
</body>

</html>
